(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{43:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var c=t(18),r=t.n(c),o=t(7),a=t(9),u=t(3),i=t(1),s=t(0),j=function(e){var n=e.values,t=e.events;return Object(s.jsxs)("form",{onSubmit:t.onSubmitContact,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:n.newName,onChange:t.onNameChange})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:n.newNumber,onChange:t.onNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.person,t=e.onRemoveClick;return Object(s.jsxs)("li",{children:[n.name," ",n.number,Object(s.jsx)("button",{type:"button",onClick:function(){return t(n.id)},children:"delete"})]})},b=t(19),m=function(e){var n=e.persons,t=e.keyword,c=e.onRemoveClick,r=t.trim().toLowerCase(),a=Object(o.a)(n);return r&&(a=a.filter((function(e){return e.name.toLowerCase().includes(r)||e.number.toLowerCase().includes(r)}))),Object(s.jsx)("div",{children:a.map((function(e){return Object(s.jsx)(d,{person:e,onRemoveClick:c},Object(b.a)())}))})},f=function(e){var n=e.keyword,t=e.onKeywordInput;return Object(s.jsxs)("div",{children:["Filter shown with ",Object(s.jsx)("input",{value:n,onInput:t})]})},l=t(5),O=t.n(l),h="/api/persons",v=function(e){var n=e.message;return""===n?null:Object(s.jsx)("div",{className:"error",children:n})},p=function(e){var n=e.message;return""===n?null:Object(s.jsx)("div",{className:"success",children:n})},w=function(){var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],r=Object(i.useState)(""),d=Object(u.a)(r,2),b=d[0],l=d[1],w=Object(i.useState)(""),x=Object(u.a)(w,2),C=x[0],g=x[1],k=Object(i.useState)(""),y=Object(u.a)(k,2),N=y[0],S=y[1],I=Object(i.useState)(""),L=Object(u.a)(I,2),R=L[0],A=L[1],D=Object(i.useState)(""),E=Object(u.a)(D,2),J=E[0],K=E[1];return Object(i.useEffect)((function(){O.a.get(h).then((function(e){return e.data})).then((function(e){c(e)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(v,{message:C}),Object(s.jsx)(p,{message:b}),Object(s.jsx)(f,{keyword:J,onKeywordInput:function(e){K(e.target.value)}}),Object(s.jsx)("h3",{children:"Add a new"}),Object(s.jsx)(j,{values:{newName:N,newNumber:R},events:{onNameChange:function(e){S(e.target.value)},onNumberChange:function(e){A(e.target.value)},onSubmitContact:function(e){e.preventDefault();var n=N.trim(),r=R.trim();if(n&&r){var u,i,s=t.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));void 0!==s&&window.confirm("".concat(s.name," is already added to phonebook,replace the old number with a new one?"))?(u=s.id,i=Object(a.a)(Object(a.a)({},s),{},{number:r}),O.a.put("".concat(h,"/").concat(u),i).then((function(e){return e.data}))).then((function(e){c(t.map((function(n){return n.id===s.id?e:n}))),S(""),A("")})).catch((function(e){g("Information of ".concat(s.name," has already been removed from server.")),c(t.filter((function(e){return e.id!==s.id}))),setTimeout((function(){return g("")}),3e3)})):function(e){return O.a.post(h,e).then((function(e){return e.data}))}({name:n,number:r}).then((function(e){c([].concat(Object(o.a)(t),[e])),S(""),A(""),l("Added ".concat(n)),setTimeout((function(){return l("")}),3e3)}))}}}}),Object(s.jsx)("h3",{children:"Numbers"}),Object(s.jsx)(m,{persons:t,keyword:J,onRemoveClick:function(e){var n=t.find((function(n){return n.id===e}));void 0!==n&&window.confirm("Delete ".concat(n.name,"?"))&&function(e){return O.a.delete("".concat(h,"/").concat(e))}(e).then((function(){c(t.filter((function(n){return n.id!==e})))}))}})]})};t(43);r.a.render(Object(s.jsx)(w,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ff4d994a.chunk.js.map