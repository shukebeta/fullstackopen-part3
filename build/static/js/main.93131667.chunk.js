(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{46:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var r=t(19),c=t.n(r),a=t(9),o=t.n(a),u=t(7),i=t(10),s=t(20),b=t(3),j=t(1),d=t(0),l=function(e){var n=e.values,t=e.events;return Object(d.jsxs)("form",{onSubmit:t.onSubmitContact,children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:n.newName,onChange:t.onNameChange})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:n.newNumber,onChange:t.onNumberChange})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})},m=function(e){var n=e.person,t=e.onRemoveClick;return Object(d.jsxs)("li",{children:[n.name," ",n.number,Object(d.jsx)("button",{type:"button",onClick:function(){return t(n.id)},children:"delete"})]})},f=t(21),O=function(e){var n=e.persons,t=e.keyword,r=e.onRemoveClick,c=t.trim().toLowerCase(),a=Object(u.a)(n);return c&&(a=a.filter((function(e){return e.name.toLowerCase().includes(c)||e.number.toLowerCase().includes(c)}))),Object(d.jsx)("div",{children:a.map((function(e){return Object(d.jsx)(m,{person:e,onRemoveClick:r},Object(f.a)())}))})},h=function(e){var n=e.keyword,t=e.onKeywordInput;return Object(d.jsxs)("div",{children:["Filter shown with ",Object(d.jsx)("input",{value:n,onInput:t})]})},v=t(5),p=t.n(v),x="/api/persons",w=function(e){return p.a.post(x,e).then((function(e){return e.data}))},k=function(e){var n=e.message;return""===n?null:Object(d.jsx)("div",{className:"error",children:n})},C=function(e){var n=e.message;return""===n?null:Object(d.jsx)("div",{className:"success",children:n})},g=function(){var e=Object(j.useState)([]),n=Object(b.a)(e,2),t=n[0],r=n[1],c=Object(j.useState)(""),a=Object(b.a)(c,2),m=a[0],f=a[1],v=Object(j.useState)(""),g=Object(b.a)(v,2),y=g[0],N=g[1],S=Object(j.useState)(""),L=Object(b.a)(S,2),I=L[0],R=L[1],A=Object(j.useState)(""),D=Object(b.a)(A,2),E=D[0],J=D[1],K=function(){var e=Object(s.a)(o.a.mark((function e(n){var c,a,s,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c=I.trim(),a=E.trim(),c&&a){e.next=5;break}return e.abrupt("return");case 5:if(void 0===(s=t.find((function(e){return e.name.toLowerCase()===c.toLowerCase()})))||!window.confirm("".concat(s.name," is already added to phonebook,replace the old number with a new one?"))){e.next=22;break}return e.prev=7,e.next=10,o=s.id,j=Object(i.a)(Object(i.a)({},s),{},{number:a}),p.a.put("".concat(x,"/").concat(o),j).then((function(e){return e.data}));case 10:b=e.sent,r(t.map((function(e){return e.id===s.id?b:e}))),R(""),J(""),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),N(e.t0.response.data.error),setTimeout((function(){return N("")}),3e3);case 20:e.next=23;break;case 22:w({name:c,number:a}).then((function(e){r([].concat(Object(u.a)(t),[e])),R(""),J(""),f("Added ".concat(c)),setTimeout((function(){return f("")}),3e3)}));case 23:case"end":return e.stop()}var o,j}),e,null,[[7,16]])})));return function(n){return e.apply(this,arguments)}}(),T=Object(j.useState)(""),B=Object(b.a)(T,2),F=B[0],P=B[1];return Object(j.useEffect)((function(){p.a.get(x).then((function(e){return e.data})).then((function(e){r(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(k,{message:y}),Object(d.jsx)(C,{message:m}),Object(d.jsx)(h,{keyword:F,onKeywordInput:function(e){P(e.target.value)}}),Object(d.jsx)("h3",{children:"Add a new"}),Object(d.jsx)(l,{values:{newName:I,newNumber:E},events:{onNameChange:function(e){R(e.target.value)},onNumberChange:function(e){J(e.target.value)},onSubmitContact:K}}),Object(d.jsx)("h3",{children:"Numbers"}),Object(d.jsx)(O,{persons:t,keyword:F,onRemoveClick:function(e){var n=t.find((function(n){return n.id===e}));void 0!==n&&window.confirm("Delete ".concat(n.name,"?"))&&function(e){return p.a.delete("".concat(x,"/").concat(e))}(e).then((function(){r(t.filter((function(n){return n.id!==e})))}))}})]})};t(46);c.a.render(Object(d.jsx)(g,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.93131667.chunk.js.map